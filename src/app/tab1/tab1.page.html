<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      FS Copy Crash Test
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">FS Copy Crash</ion-title>
    </ion-toolbar>
  </ion-header>
  <div class="container">
    <div class="buttons pick-buttons">
      <ion-button (click)="pick('images')">Pick Images</ion-button>
      <ion-button (click)="pick('videos')">Pick Videos</ion-button>
      <ion-button (click)="pick('files')">Pick Files</ion-button>
    </div>
    <div class="picked-files">
      <ion-grid>
        <ion-row>
          <ion-col size="3">Name</ion-col>
          <ion-col size="2">Mime</ion-col>
          <ion-col size="2">Size</ion-col>
          <ion-col size="2">Date</ion-col>
          <ion-col size="3">Path</ion-col>
        </ion-row>
        <ion-row class="file-item" *ngFor="let item of pickedFiles">
          <ion-col size="3">
            <div class="name">{{item.filename}}</div>
          </ion-col>
          <ion-col size="2">
            <div class="mime">{{item.mime}}</div>
          </ion-col>
          <ion-col size="2">
            <div class="size">{{item.size}}</div>
          </ion-col>
          <ion-col size="2">
            <div class="date">{{(item.time!=null)?(item.time | date : "dd/MM/YYYY"):"---"}}</div>
          </ion-col>
          <ion-col size="3">
            <div class="path">{{(item.path!=null)?item.path:"---"}}</div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <ng-container *ngIf="isNative">
      <div class="buttons copy-buttons">
        <ion-button (click)="copy()">Copy Locally</ion-button>
        <ion-button (click)="display()">Display Folder</ion-button>
        <ion-button (click)="clear()">Clear Folder</ion-button>
      </div>
      <div class="local-files">
        <ion-spinner *ngIf="loadingDir"></ion-spinner>
        <ion-grid>
          <ion-row>
            <ion-col>File Name</ion-col>
            <ion-col>File Size</ion-col>
            <ion-col>File Date</ion-col>
            <ion-col>File Path</ion-col>
          </ion-row>
          <ion-row class="file-item" *ngFor="let item of localFiles">
            <ion-col size="3">
              <div class="name">{{item.filename}}</div>
            </ion-col>
            <ion-col size="3">
              <div class="size">{{item.size}}</div>
            </ion-col>
            <ion-col size="3">
              <div class="date">{{item.time | date: "dd/MM/YYYY"}}</div>
            </ion-col>
            <ion-col size="3">
              <div class="path">{{item.path}}</div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>

    </ng-container>
  </div>
</ion-content>